{"ast":null,"code":"var _jsxFileName = \"F:\\\\Users\\\\PREM\\\\ethereum-funding\\\\src\\\\App.js\";\nimport React from \"react\";\nimport styles from \"./App.module.css\";\nimport UniqeButton from \"./components/Button/UniqeButton\";\nimport UniqeInput from \"./components/Input/UniqeInput\";\nimport Contract from \"./contract/contract\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ratio: 0,\n      amount: \"\",\n      currentAmount: 0,\n      totalAmount: 1000,\n      compatible: true\n    }; // this.smartContractUrl =\n    //   \"http://use-util.cloud.milkomeda.com:4000/address/0x7ae28c580DccA503c7412CE94e844db6f75BE585/transactions\";\n  }\n\n  render() {\n    if (this.state.compatible) return React.createElement(\"div\", {\n      className: styles.bg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.card,\n      style: {\n        width: \"50%\",\n        height: \"50%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"NIDA CHARITY\"), React.createElement(\"h3\", {\n      style: {\n        marginTop: -8\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, \"\\u0E42\\u0E04\\u0E23\\u0E07\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E23\\u0E34\\u0E08\\u0E32\\u0E04\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E19\\u0E31\\u0E1A\\u0E2A\\u0E19\\u0E38\\u0E19\\u0E01\\u0E32\\u0E23\\u0E28\\u0E36\\u0E01\\u0E29\\u0E32\"), React.createElement(\"div\", {\n      className: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: \"60%\",\n        flex: 3,\n        marginLeft: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, this.state.currentAmount.toLocaleString(), \" ETH raised of\", \" \", this.state.totalAmount.toLocaleString(), \" ETH\"), React.createElement(\"div\", {\n      className: styles.back,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.front,\n      style: {\n        width: \"\".concat(this.state.ratio, \"%\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: {\n        flex: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginTop: \"40px\",\n        flex: 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(UniqeInput, {\n      onChange: event => this.setState({\n        amount: event.target.value\n      }),\n      value: this.state.amount,\n      placeholder: \"ETH amount\",\n      height: \"30px\",\n      width: \"150px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(UniqeButton, {\n      onClick: () => {\n        if (!isNaN(Number(this.state.amount)) && this.state.amount !== \"\") {\n          Contract.fund(this.state.amount);\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Fund\"))), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: this.smartContractUrl,\n      rel: \"noopener noreferrer\",\n      target: \"_blank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"View smart contract\"))));else return React.createElement(NotCompatible, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    });\n  }\n\n  async getAmount() {\n    let current = await Contract.current();\n    let total = await Contract.total();\n    console.log(current);\n    console.log(total);\n    this.setState({\n      ratio: current / total * 100,\n      currentAmount: parseFloat(current),\n      totalAmount: parseFloat(total)\n    });\n    console.log(this.state.ratio);\n  }\n\n  componentDidMount() {\n    //check browser compatibility\n    Contract.checkCompatible().then(res => {\n      if (res) {\n        this.getAmount();\n        setInterval(() => {\n          this.getAmount();\n        }, 2000);\n      } else this.setState({\n        compatible: false\n      });\n    });\n  }\n\n}\n\nconst NotCompatible = () => {\n  return React.createElement(\"div\", {\n    className: styles.bg,\n    style: {\n      flexDirection: \"column\",\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Your browser is not Dapps compatible\"), React.createElement(\"a\", {\n    href: \"https://metamask.io\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      margin: \"0 20px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"http://airdrop-review.com/wp-content/uploads/2018/05/metamask.png\",\n    width: \"100%\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }))));\n};\n\nexport default App;","map":{"version":3,"sources":["F:\\Users\\PREM\\ethereum-funding\\src\\App.js"],"names":["React","styles","UniqeButton","UniqeInput","Contract","App","Component","constructor","props","state","ratio","amount","currentAmount","totalAmount","compatible","render","bg","card","width","height","marginTop","container","flex","marginLeft","toLocaleString","back","front","event","setState","target","value","isNaN","Number","fund","smartContractUrl","getAmount","current","total","console","log","parseFloat","componentDidMount","checkCompatible","then","res","setInterval","NotCompatible","flexDirection","textAlign","margin"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styles from \"./App.module.css\";\r\nimport UniqeButton from \"./components/Button/UniqeButton\";\r\nimport UniqeInput from \"./components/Input/UniqeInput\";\r\nimport Contract from \"./contract/contract\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ratio: 0,\r\n      amount: \"\",\r\n      currentAmount: 0,\r\n      totalAmount: 1000,\r\n      compatible: true,\r\n    };\r\n    // this.smartContractUrl =\r\n    //   \"http://use-util.cloud.milkomeda.com:4000/address/0x7ae28c580DccA503c7412CE94e844db6f75BE585/transactions\";\r\n  }\r\n\r\n  render() {\r\n    if (this.state.compatible)\r\n      return (\r\n        <div className={styles.bg}>\r\n          <div className={styles.card} style={{ width: \"50%\", height: \"50%\" }}>\r\n            <h1>NIDA CHARITY</h1>\r\n            <h3 style={{ marginTop: -8 }}>โครงการบริจาคเพื่อสนับสนุนการศึกษา</h3>\r\n            <div className={styles.container}>\r\n              <div style={{ width: \"60%\", flex: 3, marginLeft: \"20px\" }}>\r\n                <h3>\r\n                  {this.state.currentAmount.toLocaleString()} ETH raised of{\" \"}\r\n                  {this.state.totalAmount.toLocaleString()} ETH\r\n                </h3>\r\n                <div className={styles.back}>\r\n                  <div\r\n                    className={styles.front}\r\n                    style={{ width: `${this.state.ratio}%` }}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n              <div style={{ flex: 1 }}></div>\r\n              <div style={{ marginTop: \"40px\", flex: 2 }}>\r\n                <UniqeInput\r\n                  onChange={(event) =>\r\n                    this.setState({ amount: event.target.value })\r\n                  }\r\n                  value={this.state.amount}\r\n                  placeholder=\"ETH amount\"\r\n                  height=\"30px\"\r\n                  width=\"150px\"\r\n                />\r\n                <div style={{ marginTop: \"20px\" }}></div>\r\n                <UniqeButton\r\n                  onClick={() => {\r\n                    if (\r\n                      !isNaN(Number(this.state.amount)) &&\r\n                      this.state.amount !== \"\"\r\n                    ) {\r\n                      Contract.fund(this.state.amount);\r\n                    }\r\n                  }}\r\n                >\r\n                  Fund\r\n                </UniqeButton>\r\n              </div>\r\n            </div>\r\n            <h5>\r\n              <a\r\n                href={this.smartContractUrl}\r\n                rel=\"noopener noreferrer\"\r\n                target=\"_blank\"\r\n              >\r\n                View smart contract\r\n              </a>\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      );\r\n    else return <NotCompatible />;\r\n  }\r\n  async getAmount() {\r\n    let current = await Contract.current();\r\n    let total = await Contract.total();\r\n    console.log(current);\r\n    console.log(total);\r\n    this.setState({\r\n      ratio: (current / total) * 100,\r\n      currentAmount: parseFloat(current),\r\n      totalAmount: parseFloat(total),\r\n    });\r\n    console.log(this.state.ratio);\r\n  }\r\n\r\n  componentDidMount() {\r\n    //check browser compatibility\r\n    Contract.checkCompatible().then((res) => {\r\n      if (res) {\r\n        this.getAmount();\r\n        setInterval(() => {\r\n          this.getAmount();\r\n        }, 2000);\r\n      } else this.setState({ compatible: false });\r\n    });\r\n  }\r\n}\r\n\r\nconst NotCompatible = () => {\r\n  return (\r\n    <div\r\n      className={styles.bg}\r\n      style={{\r\n        flexDirection: \"column\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <h1>Your browser is not Dapps compatible</h1>\r\n      <a href=\"https://metamask.io\">\r\n        <div style={{ margin: \"0 20px\" }}>\r\n          <img\r\n            src=\"http://airdrop-review.com/wp-content/uploads/2018/05/metamask.png\"\r\n            width=\"100%\"\r\n          ></img>\r\n        </div>\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}